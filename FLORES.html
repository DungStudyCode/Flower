<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="icon" href="./img/flowers.png" type="image/x-icon" />
  <title>Flower Animation</title>
</head>

<body class="container">
  <div class="night">
    <!-- pháº§n content hiá»‡n táº¡i cá»§a báº¡n -->
    <div class="content" id="content-typing"
      data-text="ChÃºc em 20/10 tháº­t ngá»t ngÃ o nhÆ° chÃ­nh ná»¥ cÆ°á»i cá»§a em! Mong em luÃ´n xinh Ä‘áº¹p, háº¡nh phÃºc vÃ  mÃ£i lÃ  cÃ´ gÃ¡i tuyá»‡t vá»i nháº¥t trong tim anh. ðŸ’ž">
      <span class="typing-text"></span><span class="caret">|</span>
    </div>

  </div>
  <div class="flowers">
    <div class="flower flower--1">
      <div class="flower__leafs flower__leafs--1">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
        <div class="flower__line__leaf flower__line__leaf--5"></div>
        <div class="flower__line__leaf flower__line__leaf--6"></div>
      </div>
    </div>

    <div class="flower flower--2">
      <div class="flower__leafs flower__leafs--2">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--3">
      <div class="flower__leafs flower__leafs--3">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d: 1.2s">
      <div class="flower__g-long">
        <div class="flower__g-long__top"></div>
        <div class="flower__g-long__bottom"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--1">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--2">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d: 2.4s">
      <div class="flower__g-right flower__g-right--1">
        <div class="leaf"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d: 2.8s">
      <div class="flower__g-right flower__g-right--2">
        <div class="leaf"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d: 2.8s">
      <div class="flower__g-front">
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__line"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d: 3.2s">
      <div class="flower__g-fr">
        <div class="leaf"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
      </div>
    </div>

    <div class="long-g long-g--0">
      <div class="grow-ans" style="--d: 3s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 2.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 3.4s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--1">
      <div class="grow-ans" style="--d: 3.6s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 3.8s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 4s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 4.2s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--2">
      <div class="grow-ans" style="--d: 4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 4.4s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 4.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--3">
      <div class="grow-ans" style="--d: 4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 3s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--4">
      <div class="grow-ans" style="--d: 4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 3s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--5">
      <div class="grow-ans" style="--d: 4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 3s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--6">
      <div class="grow-ans" style="--d: 4.2s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 4.4s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 4.6s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 4.8s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--7">
      <div class="grow-ans" style="--d: 3s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d: 3.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d: 3.5s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d: 3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>
  </div>
  <script src="./js/main.js"></script>
  <!-- <script src="./js/audio.js"></script> -->


</body>

<script>
  /**
   * startTyping(element, text, options)
   * element: DOM element that contains .typing-text (or the element itself)
   * text: string to type (supports newlines \n)
   * options: { speed: ms per char, pauseBefore: ms, loop: boolean, deleteSpeed: ms }
   */
  function startTyping(container, text, options = {}) {
    const defaults = { speed: 60, pauseBefore: 0, loop: false, deleteSpeed: 30, pauseAfter: 1000 };
    const opt = Object.assign({}, defaults, options);

    // allow passing id or element
    let el = (typeof container === 'string') ? document.getElementById(container) : container;
    if (!el) return;
    const textHolder = el.querySelector('.typing-text') || el;

    let i = 0;
    let forward = true;

    function typeOnce(resolve) {
      textHolder.textContent = ''; // start clean for this pass
      i = 0;
      forward = true;

      function step() {
        if (i <= text.length) {
          textHolder.textContent = text.slice(0, i);
          i++;
          setTimeout(step, opt.speed);
        } else {
          // finished typing once
          setTimeout(() => {
            if (opt.loop) {
              // delete then type again
              deleteStep();
            } else {
              resolve && resolve();
            }
          }, opt.pauseAfter);
        }
      }

      function deleteStep() {
        i = text.length;
        function del() {
          if (i >= 0) {
            textHolder.textContent = text.slice(0, i);
            i--;
            setTimeout(del, opt.deleteSpeed);
          } else {
            // after delete, small pause then retype
            setTimeout(() => { step(); }, opt.pauseBefore);
          }
        }
        del();
      }

      // start after optional pauseBefore
      setTimeout(step, opt.pauseBefore);
    }

    // return a Promise so user can await completion if they want
    return new Promise((resolve) => typeOnce(resolve));
  }

  /* Auto-start using data-text from #content-typing */
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('content-typing');
    if (!cont) return;
    const text = cont.getAttribute('data-text') || cont.textContent.trim();
    // clear existing to avoid duplication
    const textSpan = cont.querySelector('.typing-text');
    if (textSpan) textSpan.textContent = '';

    // start typing, loop = false (change to true náº¿u muá»‘n láº·p)
    startTyping(cont, text, { speed: 60, loop: false, pauseBefore: 0, deleteSpeed: 30 });
  });
</script>


</html>